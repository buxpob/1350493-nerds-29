const contactLink=document.querySelector(".contacts-button"),contactPopup=document.querySelector(".modal-letter"),contactClose=contactPopup.querySelector(".modal-close"),contactForm=contactPopup.querySelector(".letter-form"),contactLogin=contactPopup.querySelector(".modal-letter-name"),contactEmail=contactPopup.querySelector(".modal-letter-email"),contactText=contactPopup.querySelector(".modal-letter-text");let isStorageSupport=!0,storageLogin="",storageEmail="";try{storageLogin=localStorage.getItem("login"),storageEmail=localStorage.getItem("email")}catch(t){isStorageSupport=!1}contactLink.addEventListener("click",function(t){t.preventDefault(),contactPopup.classList.add("modal-show"),storageLogin&&storageEmail?(contactLogin.value=storageLogin,contactEmail.value=storageEmail,contactText.focus()):contactLogin.focus()}),contactClose.addEventListener("click",function(t){t.preventDefault(),contactPopup.classList.remove("modal-show"),contactPopup.classList.remove("modal-error")}),contactForm.addEventListener("submit",function(t){contactLogin.value&&contactEmail.value&&contactText.value?isStorageSupport&&(localStorage.setItem("login",contactLogin.value),localStorage.setItem("email",contactEmail.value)):(t.preventDefault(),contactPopup.classList.remove("modal-error"),contactPopup.offsetWidth=contactPopup.offsetWidth,contactPopup.classList.add("modal-error"))}),window.addEventListener("keydown",function(t){27===t.keyCode&&contactPopup.classList.contains("modal-show")&&(t.preventDefault(),contactPopup.classList.remove("modal-show"))});